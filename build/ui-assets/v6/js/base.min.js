/*!kaf-skeleton-11-09-2014*/
function tabletTouch(){"ontouchstart"in document.documentElement?(strClick="touchend",strOver="touchstart",strDevice="Touch Device"):(strClick="click",strOver="mouseover",strDevice="Normal Device")}function _gotAjaxError(a){if(500==a.status){var b=a.responseText;b=b.replace(/\r?\n/g,"").replace(/(<\/)/g,"\n$1").replace(/<[^>]+>/g,"").replace(/^\s+/,"").replace(/\s+$/,""),console.log(b)}}function scroll2Cart(){return $("html, body").animate({scrollTop:0},"600"),!0}function rollupCart(){$("#ajax-infobox").slideUp()}function sli_init(a){a||(a="products"),"undefined"==typeof window.sliAutocomplete||"undefined"==typeof window.sliAutocomplete.input||"undefined"==typeof window.sliAutocomplete.input.opts||"undefined"==typeof window.sliAutocomplete.input.opts.base?window.setTimeout(sli_init,300):window.sliAutocomplete.input.opts.base="http://search.kingarthurflour.com/search?af=type:"+a+"&ts=rac&w="}function calcTime(a,b){return d=new Date,utc=d.getTime()+6e4*d.getTimezoneOffset(),nd=new Date(utc+36e5*b),nd.toLocaleString()}window.console||(window.console={log:function(){}}),!function(a){function b(b,c,d){if(d){if("object"!=typeof b&&(b={}),"boolean"!=typeof b.isMenu){var e=d.children();b.isMenu=1==e.length&&e.is(c.panelNodetype)}return b}b=a.extend(!0,{},a[f].defaults,b),("top"==b.position||"bottom"==b.position)&&("back"==b.zposition||"next"==b.zposition)&&(a[f].deprecated('Using position "'+b.position+'" in combination with zposition "'+b.zposition+'"','zposition "front"'),b.zposition="front");for(var g=["position","zposition","modal","moveBackground"],h=0,i=g.length;i>h;h++)"undefined"!=typeof b[g[h]]&&(a[f].deprecated('The option "'+g[h]+'"',"offCanvas."+g[h]),b.offCanvas=b.offCanvas||{},b.offCanvas[g[h]]=b[g[h]]);return b}function c(b){b=a.extend(!0,{},a[f].configuration,b);for(var c=["panel","list","selected","label","spacer"],d=0,e=c.length;e>d;d++)"undefined"!=typeof b[c[d]+"Class"]&&(a[f].deprecated('The configuration option "'+c[d]+'Class"',"classNames."+c[d]),b.classNames[c[d]]=b[c[d]+"Class"]);if("undefined"!=typeof b.counterClass&&(a[f].deprecated('The configuration option "counterClass"',"classNames.counters.counter"),b.classNames.counters=b.classNames.counters||{},b.classNames.counters.counter=b.counterClass),"undefined"!=typeof b.collapsedClass&&(a[f].deprecated('The configuration option "collapsedClass"',"classNames.labels.collapsed"),b.classNames.labels=b.classNames.labels||{},b.classNames.labels.collapsed=b.collapsedClass),"undefined"!=typeof b.header)for(var c=["panelHeader","panelNext","panelPrev"],d=0,e=c.length;e>d;d++)"undefined"!=typeof b.header[c[d]+"Class"]&&(a[f].deprecated('The configuration option "header.'+c[d]+'Class"',"classNames.header."+c[d]),b.classNames.header=b.classNames.header||{},b.classNames.header[c[d]]=b.header[c[d]+"Class"]);for(var c=["pageNodetype","pageSelector","menuWrapperSelector","menuInjectMethod"],d=0,e=c.length;e>d;d++)"undefined"!=typeof b[c[d]]&&(a[f].deprecated('The configuration option "'+c[d]+'"',"offCanvas."+c[d]),b.offCanvas=b.offCanvas||{},b.offCanvas[c[d]]=b[c[d]]);return b}function d(){k=!0,l.$wndw=a(window),l.$html=a("html"),l.$body=a("body"),a.each([h,i,j],function(a,b){b.add=function(a){a=a.split(" ");for(var c in a)b[a[c]]=b.mm(a[c])}}),h.mm=function(a){return"mm-"+a},h.add("wrapper menu ismenu inline panel list subtitle selected label spacer current highest hidden opened subopened subopen fullsubopen subclose"),h.umm=function(a){return"mm-"==a.slice(0,3)&&(a=a.slice(3)),a},i.mm=function(a){return"mm-"+a},i.add("parent"),j.mm=function(a){return a+".mm"},j.add("toggle open close setSelected transitionend webkitTransitionEnd mousedown mouseup touchstart touchmove touchend scroll resize click keydown keyup"),a[f]._c=h,a[f]._d=i,a[f]._e=j,a[f].glbl=l}function e(b,c){if(b.hasClass(h.current))return!1;var d=a("."+h.panel,c),e=d.filter("."+h.current);return d.removeClass(h.highest).removeClass(h.current).not(b).not(e).addClass(h.hidden),b.hasClass(h.opened)?e.addClass(h.highest).removeClass(h.opened).removeClass(h.subopened):(b.addClass(h.highest),e.addClass(h.subopened)),b.removeClass(h.hidden).addClass(h.current),setTimeout(function(){b.removeClass(h.subopened).addClass(h.opened)},25),"open"}var f="mmenu",g="4.3.1";if(!a[f]){var h={},i={},j={},k=!1,l={$wndw:null,$html:null,$body:null};a[f]=function(a,b,c){return this.$menu=a,this.opts=b,this.conf=c,this.vars={},this._init(),this},a[f].uniqueId=0,a[f].prototype={_init:function(){if(this.opts=b(this.opts,this.conf,this.$menu),this._initMenu(),this._initPanels(),this._initLinks(),this._bindCustomEvents(),a[f].addons)for(var c=0;c<a[f].addons.length;c++)"function"==typeof this["_addon_"+a[f].addons[c]]&&this["_addon_"+a[f].addons[c]]()},_bindCustomEvents:function(){var b=this,c=this.$menu.find(this.opts.isMenu&&!this.opts.slidingSubmenus?"ul, ol":"."+h.panel);c.off(j.toggle+" "+j.open+" "+j.close).on(j.toggle+" "+j.open+" "+j.close,function(a){a.stopPropagation()}),this.opts.slidingSubmenus?c.on(j.open,function(){return e(a(this),b.$menu)}):c.on(j.toggle,function(){var b=a(this);return b.triggerHandler(b.parent().hasClass(h.opened)?j.close:j.open)}).on(j.open,function(){return a(this).parent().addClass(h.opened),"open"}).on(j.close,function(){return a(this).parent().removeClass(h.opened),"close"})},_initMenu:function(){this.opts.offCanvas&&this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){a(this).attr("id",h.mm(a(this).attr("id")))})),this.$menu.contents().each(function(){3==a(this)[0].nodeType&&a(this).remove()}),this.$menu.parent().addClass(h.wrapper);var b=[h.menu];b.push(h.mm(this.opts.slidingSubmenus?"horizontal":"vertical")),this.opts.classes&&b.push(this.opts.classes),this.opts.isMenu&&b.push(h.ismenu),this.$menu.addClass(b.join(" "))},_initPanels:function(){var b=this;this.__refactorClass(a("."+this.conf.classNames.list,this.$menu),this.conf.classNames.list,"list"),this.opts.isMenu&&a("ul, ol",this.$menu).not(".mm-nolist").addClass(h.list);var c=a("."+h.list+" > li",this.$menu);this.__refactorClass(c,this.conf.classNames.selected,"selected"),this.__refactorClass(c,this.conf.classNames.label,"label"),this.__refactorClass(c,this.conf.classNames.spacer,"spacer"),c.off(j.setSelected).on(j.setSelected,function(b,d){b.stopPropagation(),c.removeClass(h.selected),"boolean"!=typeof d&&(d=!0),d&&a(this).addClass(h.selected)}),this.__refactorClass(a("."+this.conf.classNames.panel,this.$menu),this.conf.classNames.panel,"panel"),this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+h.list).children().children().filter(this.conf.panelNodetype)).addClass(h.panel);var d=a("."+h.panel,this.$menu);d.each(function(){var c=a(this),d=c.attr("id")||b.__getUniqueId();c.attr("id",d)}),d.find("."+h.panel).each(function(){var c=a(this),d=c.is("ul, ol")?c:c.find("ul ,ol").first(),e=c.parent(),f=e.find("> a, > span"),g=e.closest("."+h.panel);if(c.data(i.parent,e),e.parent().is("."+h.list)){var j=a('<a class="'+h.subopen+'" href="#'+c.attr("id")+'" />').insertBefore(f);f.is("a")||j.addClass(h.fullsubopen),b.opts.slidingSubmenus&&d.prepend('<li class="'+h.subtitle+'"><a class="'+h.subclose+'" href="#'+g.attr("id")+'">'+f.text()+"</a></li>")}});var e=this.opts.slidingSubmenus?j.open:j.toggle;if(d.each(function(){var c=a(this),d=c.attr("id");a('a[href="#'+d+'"]',b.$menu).off(j.click).on(j.click,function(a){a.preventDefault(),c.trigger(e)})}),this.opts.slidingSubmenus){var f=a("."+h.list+" > li."+h.selected,this.$menu);f.parents("li").removeClass(h.selected).end().add(f.parents("li")).each(function(){var b=a(this),c=b.find("> ."+h.panel);c.length&&(b.parents("."+h.panel).addClass(h.subopened),c.addClass(h.opened))}).closest("."+h.panel).addClass(h.opened).parents("."+h.panel).addClass(h.subopened)}else{var f=a("li."+h.selected,this.$menu);f.parents("li").removeClass(h.selected).end().add(f.parents("li")).addClass(h.opened)}var g=d.filter("."+h.opened);g.length||(g=d.first()),g.addClass(h.opened).last().addClass(h.current),this.opts.slidingSubmenus&&d.not(g.last()).addClass(h.hidden).end().find("."+h.panel).appendTo(this.$menu)},_initLinks:function(){var b=this;a("."+h.list+" > li > a",this.$menu).not("."+h.subopen).not("."+h.subclose).not('[rel="external"]').not('[target="_blank"]').off(j.click).on(j.click,function(c){var d=a(this),e=d.attr("href");b.__valueOrFn(b.opts.onClick.setSelected,d)&&d.parent().trigger(j.setSelected);var f=b.__valueOrFn(b.opts.onClick.preventDefault,d,"#"==e.slice(0,1));f&&c.preventDefault(),b.__valueOrFn(b.opts.onClick.blockUI,d,!f)&&l.$html.addClass(h.blocking),b.__valueOrFn(b.opts.onClick.close,d,f)&&b.$menu.triggerHandler(j.close)})},_update:function(a){if(this.updates||(this.updates=[]),"function"==typeof a)this.updates.push(a);else for(var b=0,c=this.updates.length;c>b;b++)this.updates[b].call(this,a)},__valueOrFn:function(a,b,c){return"function"==typeof a?a.call(b[0]):"undefined"==typeof a&&"undefined"!=typeof c?c:a},__refactorClass:function(a,b,c){a.filter("."+b).removeClass(b).addClass(h[c])},__transitionend:function(a,b,c){var d=!1,e=function(){d||b.call(a[0]),d=!0};a.one(j.transitionend,e),a.one(j.webkitTransitionEnd,e),setTimeout(e,1.1*c)},__getUniqueId:function(){return h.mm(a[f].uniqueId++)}},a.fn[f]=function(e,g){return k||d(),e=b(e,g),g=c(g),this.each(function(){var b=a(this);b.data(f)||b.data(f,new a[f](b,e,g))})},a[f].version=g,a[f].defaults={classes:"",slidingSubmenus:!0,onClick:{setSelected:!0}},a[f].configuration={panelNodetype:"ul, ol, div",transitionDuration:400,classNames:{panel:"Panle",list:"List",selected:"Selected",label:"Label",spacer:"Spacer"}},function(){var b=window.document,c=window.navigator.userAgent,d="ontouchstart"in b,e="WebkitOverflowScrolling"in b.documentElement.style,g=function(){return c.indexOf("Android")>=0?2.4>parseFloat(c.slice(c.indexOf("Android")+8)):!1}();a[f].support={touch:d,oldAndroidBrowser:g,overflowscrolling:function(){return d?e?!0:g?!1:!0:!0}()}}(),a[f].debug=function(){},a[f].deprecated=function(a,b){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+a+" is deprecated, use "+b+" instead.")}}}(jQuery),!function(a){function b(a){return a}function c(a){return"string"!=typeof a.pageSelector&&(a.pageSelector="> "+a.pageNodetype),a}function d(){k=!0,e=a[i]._c,f=a[i]._d,g=a[i]._e,e.add("offcanvas modal background opening blocker page"),f.add("style"),g.add("opening opened closing closed setPage"),h=a[i].glbl,h.$allMenus=(h.$allMenus||a()).add(this.$menu),h.$wndw.on(g.keydown,function(a){return h.$html.hasClass(e.opened)&&9==a.keyCode?(a.preventDefault(),!1):void 0});var b=0;h.$wndw.on(g.resize,function(a,c){if(c||h.$html.hasClass(e.opened)){var d=h.$wndw.height();(c||d!=b)&&(b=d,h.$page.css("minHeight",d))}})}var e,f,g,h,i="mmenu",j="offCanvas",k=!1;a[i].prototype["_addon_"+j]=function(){if(!this.opts[j])return this;k||d(),this.opts[j]=b(this.opts[j]),this.conf[j]=c(this.conf[j]),this.vars.opened=!1;var a=this.opts[j],f=this.conf[j],g=[e.offcanvas];"left"!=a.position&&g.push(e.mm(a.position)),"back"!=a.zposition&&g.push(e.mm(a.zposition)),this.$menu.addClass(g.join(" ")).parent().removeClass(e.wrapper),this[j+"_initPage"](h.$page),this[j+"_initBlocker"](),this[j+"_initOpenClose"](),this[j+"_bindCustomEvents"](),this.$menu[f.menuInjectMethod+"To"](f.menuWrapperSelector)},a[i].addons=a[i].addons||[],a[i].addons.push(j),a[i].defaults[j]={position:"left",zposition:"back",modal:!1,moveBackground:!0},a[i].configuration[j]={pageNodetype:"div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend"},a[i].prototype.open=function(){if(this.vars.opened)return!1;var a=this;return this._openSetup(),setTimeout(function(){a._openFinish()},25),"open"},a[i].prototype._openSetup=function(){h.$allMenus.not(this.$menu).trigger(g.close),h.$page.data(f.style,h.$page.attr("style")||""),h.$wndw.trigger(g.resize,[!0]);var a=[e.opened];this.opts[j].modal&&a.push(e.modal),this.opts[j].moveBackground&&a.push(e.background),"left"!=this.opts[j].position&&a.push(e.mm(this.opts[j].position)),"back"!=this.opts[j].zposition&&a.push(e.mm(this.opts[j].zposition)),this.opts.classes&&a.push(this.opts.classes),h.$html.addClass(a.join(" ")),this.$menu.addClass(e.current+" "+e.opened)},a[i].prototype._openFinish=function(){var a=this;this.__transitionend(h.$page,function(){a.$menu.trigger(g.opened)},this.conf.transitionDuration),this.vars.opened=!0,h.$html.addClass(e.opening),this.$menu.trigger(g.opening)},a[i].prototype.close=function(){if(!this.vars.opened)return!1;var a=this;return this.__transitionend(h.$page,function(){a.$menu.removeClass(e.current).removeClass(e.opened),h.$html.removeClass(e.opened).removeClass(e.modal).removeClass(e.background).removeClass(e.mm(a.opts[j].position)).removeClass(e.mm(a.opts[j].zposition)),a.opts.classes&&h.$html.removeClass(a.opts.classes),h.$page.attr("style",h.$page.data(f.style)),a.vars.opened=!1,a.$menu.trigger(g.closed)},this.conf.transitionDuration),h.$html.removeClass(e.opening),this.$menu.trigger(g.closing),"close"},a[i].prototype[j+"_initBlocker"]=function(){var b=this;h.$blck||(h.$blck=a('<div id="'+e.blocker+'" />').appendTo(h.$body)),h.$blck.off(g.touchstart).on(g.touchstart,function(a){a.preventDefault(),a.stopPropagation(),h.$blck.trigger(g.mousedown)}).on(g.mousedown,function(a){a.preventDefault(),h.$html.hasClass(e.modal)||b.close()})},a[i].prototype[j+"_initPage"]=function(b){b||(b=a(this.conf[j].pageSelector,h.$body),b.length>1&&(a[i].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf[j].pageNodetype+">."),b=b.wrapAll("<"+this.conf[j].pageNodetype+" />").parent())),b.addClass(e.page),h.$page=b},a[i].prototype[j+"_initOpenClose"]=function(){var b=this,c=this.$menu.attr("id");c&&c.length&&(this.conf.clone&&(c=e.umm(c)),a('a[href="#'+c+'"]').off(g.click).on(g.click,function(a){a.preventDefault(),b.open()}));var c=h.$page.attr("id");c&&c.length&&a('a[href="#'+c+'"]').on(g.click,function(a){a.preventDefault(),b.close()})},a[i].prototype[j+"_bindCustomEvents"]=function(){var a=this,b=g.open+" "+g.opening+" "+g.opened+" "+g.close+" "+g.closing+" "+g.closed+" "+g.setPage;this.$menu.off(b).on(b,function(a){a.stopPropagation()}),this.$menu.on(g.open,function(){a.open()}).on(g.close,function(){a.close()}).on(g.setPage,function(b,c){a[j+"_initPage"](c),a[j+"_initOpenClose"]()})}}(jQuery),function(a){a.fn.extend({modalPanel:function(){function b(){a(document).unbind("keydown",c);var b=function(){a(this).remove()};d.fadeOut(b),e.fadeOut(b).empty()}function c(a){27==a.keyCode&&b()}var d=a('<div id="modal-overlay"></div>'),e=a('<div id="modal-window"></div>');return this.each(function(){a(this).click(function(f){a("body").append(d.click(function(){b()})),a("body").on("click","a.close",function(){b()}),d.fadeIn(150),f.preventDefault(),a(document).keydown(c),a.ajaxSetup({cache:!1});var g="<img src='images/ui/ajax-loading.gif' alt='loading...' /> loading...",h=a(this).attr("href");e.html(g).load(h+" .ajax-container"),a(this).addClass("ajax-clicked"),a("body").append(e),e.fadeIn(50)})})}})}(jQuery),jQuery(document).ready(function(a){a("a[rel*=modalPanel]").modalPanel()});var modal=function(){var a,b,c,d,e={};return e.center=function(){var a,c;a=Math.max($(window).height()-b.outerHeight(),0)/2,c=Math.max($(window).width()-b.outerWidth(),0)/2,b.css({top:a+$(window).scrollTop(),left:c+$(window).scrollLeft()})},e.open=function(d){c.empty().append(d.content),b.css({width:d.width||"auto",height:d.height||"auto"}),e.center(),$(window).bind("resize.modal",e.center),a.show(),b.fadeIn()},e.close=function(){b.hide(),a.hide(),c.empty(),$(window).unbind("resize.modal")},a=$('<div id="overlay"></div>'),b=$('<div id="modalbox"></div>'),c=$('<div id="ajaxedcontent"></div>'),d=$('<a id="modalclose" href="#">close</a>'),b.hide(),a.hide(),b.append(c,d),$(document).ready(function(){$("body").append(a,b)}),d.click(function(a){c.removeClass(),a.preventDefault(),e.close()}),e}();jQuery(document).ready(function(a){a("a.modalbox").on("click",function(){var b=a(this).attr("href");return a.get(b,function(b){ajaxcontent=a('[data-role="data-ajax"]',b),modal.open({content:ajaxcontent})}),!1}),a("a.modalboxprod").on("click",function(){var b=a(this).attr("href");return a.get(b,function(b){ajaxcontent=a('[data-role="data-ajax-product"]',b),modal.open({content:ajaxcontent})}),!1})}),function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};jQuery.fn[b]=function(a,d,e){return a?this.bind("resize",c(a,d,e)):this.trigger(b)}}(jQuery,"smartresize"),jQuery(document).ready(function(a){a(window).scroll(function(){var b=a("#scrollup");a(this).scrollTop()>100?b.fadeIn():b.fadeOut()}),a("#scrollup").on("click",function(){return a("html, body").animate({scrollTop:0},600),!1})}),jQuery(document).ready(function(a){a(function(){a("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=a(this.hash);if(b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html,body").animate({scrollTop:b.offset().top},800),!1}})})}),jQuery(document).ready(function(a){a.ajax({type:"GET",url:"/ajax/nav-mobile.html",datatype:"html",success:function(b){a("#nav-mobile").html(b).mmenu({slidingSubmenus:!1})},error:_gotAjaxError})}),jQuery(document).ready(function(a){a("#nav-footer").hide(),a.ajax({type:"GET",url:"/ajax/nav-footer-v2.html",datatype:"html",success:function(b){a("#nav-footer").html(b).slideDown()},error:_gotAjaxError})}),jQuery(document).ready(function(){sli_init("products")}),jQuery(document).ready(function(a){a.ajax({type:"GET",url:"/shop/CurrentPromo",datatype:"xml",headers:{Accept:"application/xml"},success:function(b){var c=a(b).find("promoText").text(),d=a(b).find("promoUrl").text();if("promotion"!=c){var e="#promo .sitewidepromo";a(e).empty().append(window.location.href.indexOf("shop")>=0||window.location.href.indexOf("essentials")>=0?'<a href="'+d+'">'+c+"</a>":'<a href="/shop/">'+c+"</a>"),a(e).fadeIn()}}})});var now=calcTime("Boston","-4");jQuery(document).ready(function(a){a(".emailsignup-input, .bec-emailsignup-input").keyup(function(){a(this).val(a(this).val().trim())})}),window._laq||(window._laq=[]),document.getElementById("liveagent_button_online_573A0000000CadV")&&window._laq.push(function(){liveagent.showWhenOnline("573A0000000CadV",document.getElementById("liveagent_button_online_573A0000000CadV")),liveagent.showWhenOffline("573A0000000CadV",document.getElementById("liveagent_button_offline_573A0000000CadV"))}),document.getElementById("liveagent_button_online_573A0000000CauG")&&window._laq.push(function(){liveagent.showWhenOnline("573A0000000CauG",document.getElementById("liveagent_button_online_573A0000000CauG")),liveagent.showWhenOffline("573A0000000CauG",document.getElementById("liveagent_button_offline_573A0000000CauG"))}),document.getElementById("liveagent_button_online_573A0000000Cau6")&&window._laq.push(function(){liveagent.showWhenOnline("573A0000000Cau6",document.getElementById("liveagent_button_online_573A0000000Cau6")),liveagent.showWhenOffline("573A0000000Cau6",document.getElementById("liveagent_button_offline_573A0000000Cau6"))}),document.getElementById("liveagent_button_online_573A0000000CauL")&&window._laq.push(function(){liveagent.showWhenOnline("573A0000000CauL",document.getElementById("liveagent_button_online_573A0000000CauL")),liveagent.showWhenOffline("573A0000000CauL",document.getElementById("liveagent_button_offline_573A0000000CauL"))}),function(){var a=(Math.random()+"").substr(2),b="https:"==document.location.protocol?"https:":"http:";(new Image).src=b+"//p.rfihub.com/ca.gif?rb=10943&ca=20582065&ra="+a}(),jQuery(document).ready(function(a){a(".primary li:nth-child(odd)").addClass("ieodd"),a(".primary li:nth-child(even)").addClass("ieeven"),a(".primary li:nth-child(3n+1)").addClass("ie3n1"),a(".primary li:nth-child(4n+1)").addClass("ie4n1")});